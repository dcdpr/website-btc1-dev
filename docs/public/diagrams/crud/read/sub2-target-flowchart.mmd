---
title: 7.2.2 Resolve Target Document
---

flowchart TD

    Start@{ shape: circle, label: "Resolve Target<br>Document" } --> TraverseHistory@{ shape: subproc, label: Traverse Bitcoin<br/>Blockchain History }
    TraverseHistory --> MoreUpdates{More orderedUpdates<br>to Process?}
    MoreUpdates -->|TRUE| JSONCanonicalizeHash1@{shape: subproc, label: JSON Canonicalization<br/>and Hash}
    JSONCanonicalizeHash1 --> FindNextSignals@{shape: subproc, label: Find Next Signals}
    FindNextSignals --> ProcessBeaconSignals@{shape: subproc, label: Process Beacon Signals}
    ProcessBeaconSignals --> TargetVersionId{update<br/>.targetVersionId}
    TargetVersionId -->| \> currentVersionId + 1|LatePublishing@{shape: stadium, label: LatePublishingError}
    TargetVersionId -->| = currentVersionId + 1|ApplyDidUpdate@{shape: subproc, label: Apply<br/>DID Update}
    TargetVersionId -->| <= currentVersionId|ConfirmDupeUpdate@{shape: subproc, label: Confirm Duplicate<br>Update} 
    ApplyDidUpdate --> JSONCanonicalizeHash2@{shape: subproc, label: JSON Canonicalization<br/>and Hash}
    JSONCanonicalizeHash2 --> TraverseHistory
    ConfirmDupeUpdate --> TraverseHistory

    
    MoreUpdates -->|FALSE| ReturnTargetDocument@{shape: lean-l, label: Return targetDocument}
