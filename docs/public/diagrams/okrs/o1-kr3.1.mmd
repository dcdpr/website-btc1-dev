---
title: Data Movement Emphasis - Stuart Updates Keys, Satoshi Verifies
---

sequenceDiagram
    autonumber
    actor C as Controller (Stuart)
    actor V as Verifier (Satoshi)
    participant B as Beacon (Singleton/Map/SMT)
    participant N as Bitcoin â›“
    participant O as Off-chain Provider
    participant R as Resolver

    Note over C: Prepare update ðŸ§¾ btc1Update â†’ updateId ðŸ”‘

    C->>B: Signal intent / submit material (varies by beacon)
    B->>N: Broadcast OP_RETURN [32 bytes] â›“
    par Off-chain availability
      C->>O: Publish/Share ðŸ§¾ btc1Update (CAS ðŸ“¦ or Sidecar ðŸ§³)
      B->>O: Publish ðŸ—º map (Map) ðŸ“¦
      C->>O: Share ðŸŒ² smtProof (SMT) ðŸ§³
    end

    V->>R: Resolve DID
    R->>N: Read OP_RETURN 32B â›“
    R->>O: Fetch needed docs:<br/>ðŸ§¾ btc1Update / ðŸ—º map / ðŸŒ² smtProof
    R->>R: Validate hashes & proofs â†’ apply update
    R-->>V: Verified resolved DID

    Note over R,V: Legend â€” Data Types<br/>ðŸ§¾ btc1Update (document)<br/>ðŸ—º map (MapBeacon document)<br/>ðŸŒ² smtProof (inclusion/non-inclusion)<br/>â›“ On-chain 32B commitment
